

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FuturesModel &mdash; QF Lib  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contract" href="qf_lib.backtesting.contract.contract.Contract.html" />
    <link rel="prev" title="AlphaModel" href="qf_lib.backtesting.alpha_model.alpha_model.AlphaModel.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> QF Lib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../analysis.html">analysis</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../backtesting.html">backtesting</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../backtesting.html#alpha-model">alpha_model</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="qf_lib.backtesting.alpha_model.alpha_model.AlphaModel.html">AlphaModel</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">FuturesModel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#contract">contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#data-handler">data_handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#events">events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#execution-handler">execution_handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#fast-alpha-model-tester">fast_alpha_model_tester</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#monitoring">monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#order">order</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#orders-filter">orders_filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#portfolio">portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#position-sizer">position_sizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#signals">signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#strategies">strategies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backtesting.html#trading-session">trading_session</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../common.html">common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers.html">containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_providers.html">data_providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../document_utils.html">document_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plotting.html">plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indicators.html">indicators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../portfolio_construction.html">portfolio_construction</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QF Lib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../backtesting.html">backtesting</a> &raquo;</li>
        
      <li>FuturesModel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="futuresmodel">
<h1>FuturesModel<a class="headerlink" href="#futuresmodel" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="qf_lib.backtesting.alpha_model.futures_model.FuturesModel">
<em class="property">class </em><code class="sig-prename descclassname">qf_lib.backtesting.alpha_model.futures_model.</code><code class="sig-name descname">FuturesModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_of_bars_needed</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">risk_estimation_factor</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">data_provider</span><span class="p">:</span> <span class="n"><a class="reference internal" href="qf_lib.data_providers.data_provider.DataProvider.html#qf_lib.data_providers.data_provider.DataProvider" title="qf_lib.data_providers.data_provider.DataProvider">qf_lib.data_providers.data_provider.DataProvider</a></span></em>, <em class="sig-param"><span class="n">cache_path</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/qf_lib/backtesting/alpha_model/futures_model.html#FuturesModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qf_lib.backtesting.alpha_model.futures_model.FuturesModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="qf_lib.backtesting.alpha_model.alpha_model.AlphaModel.html#qf_lib.backtesting.alpha_model.alpha_model.AlphaModel" title="qf_lib.backtesting.alpha_model.alpha_model.AlphaModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">qf_lib.backtesting.alpha_model.alpha_model.AlphaModel</span></code></a></p>
<p>Type of alpha model, which can be easily integrated with any type of Tickers (plain Ticker objects, as well as
FutureTickers). It provides the functionality which allows to download the daily OHLCV prices data frame,
regardless of ticker type (the get_data function).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_of_bars_needed</strong> (<em>int</em>) – number of bars necessary to compute the exposure</p></li>
<li><p><strong>risk_estimation_factor</strong> (<em>float</em>) – float value which estimates the risk level of the specific AlphaModel. Corresponds to the level at which
the stop-loss should be placed.</p></li>
<li><p><strong>data_provider</strong> (<a class="reference internal" href="qf_lib.data_providers.data_provider.DataProvider.html#qf_lib.data_providers.data_provider.DataProvider" title="qf_lib.data_providers.data_provider.DataProvider"><em>DataProvider</em></a>) – DataProvider which provides data for the ticker. For backtesting purposes the Data Handler should be used.</p></li>
<li><p><strong>cache_path</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – path to a directory, which could be used by the model for caching purposes. If provided, the model will cache
the outputs of get_data function.</p></li>
</ul>
</dd>
</dl>
<p><strong>Methods</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#qf_lib.backtesting.alpha_model.futures_model.FuturesModel.get_data" title="qf_lib.backtesting.alpha_model.futures_model.FuturesModel.get_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_data</span></code></a>(ticker_str, end_date, aggregate_volume)</p></td>
<td><p>Downloads the OHCLV Prices data frame for the given ticker.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#qf_lib.backtesting.alpha_model.futures_model.FuturesModel.get_signal" title="qf_lib.backtesting.alpha_model.futures_model.FuturesModel.get_signal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_signal</span></code></a>(ticker, current_exposure, …)</p></td>
<td><p>Returns the Signal calculated for a specific AlphaModel and a set of data for a specified Ticker</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="qf_lib.backtesting.alpha_model.futures_model.FuturesModel.get_data">
<code class="sig-name descname">get_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ticker_str</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">end_date</span><span class="p">:</span> <span class="n">datetime.datetime</span></em>, <em class="sig-param"><span class="n">aggregate_volume</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/qf_lib/backtesting/alpha_model/futures_model.html#FuturesModel.get_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qf_lib.backtesting.alpha_model.futures_model.FuturesModel.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads the OHCLV Prices data frame for the given ticker. In case of a FutureTicker, the function downloads
the Futures Chain and applies backward adjustment to the prices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ticker_str</strong> (<em>str</em>) – string representing the ticker for which the data should be downloaded</p></li>
<li><p><strong>end_date</strong> (<em>datetime</em>) – last date for the data to be fetched</p></li>
<li><p><strong>aggregate_volume</strong> (<em>bool</em>) – used only in case of future tickers - if set to True, the volume data would not be the volume for the
given contract, but the volume aggregated across all contracts (for each day the volume will be simply
the sum of all volumes of the existing contracts of the given future asset)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="qf_lib.backtesting.alpha_model.futures_model.FuturesModel.get_signal">
<code class="sig-name descname">get_signal</code><span class="sig-paren">(</span><em class="sig-param">ticker: qf_lib.common.tickers.tickers.Ticker</em>, <em class="sig-param">current_exposure: qf_lib.backtesting.alpha_model.exposure_enum.Exposure</em>, <em class="sig-param">current_time: Optional[datetime.datetime] = None</em>, <em class="sig-param">frequency: qf_lib.common.enums.frequency.Frequency = &lt;Frequency.DAILY: 252&gt;</em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="qf_lib.backtesting.signals.signal.Signal.html#qf_lib.backtesting.signals.signal.Signal" title="qf_lib.backtesting.signals.signal.Signal">qf_lib.backtesting.signals.signal.Signal</a><a class="reference internal" href="../_modules/qf_lib/backtesting/alpha_model/futures_model.html#FuturesModel.get_signal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qf_lib.backtesting.alpha_model.futures_model.FuturesModel.get_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Signal calculated for a specific AlphaModel and a set of data for a specified Ticker</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ticker</strong> (<a class="reference internal" href="qf_lib.common.tickers.tickers.Ticker.html#qf_lib.common.tickers.tickers.Ticker" title="qf_lib.common.tickers.tickers.Ticker"><em>Ticker</em></a>) – A ticker of an asset for which the Signal should be generated</p></li>
<li><p><strong>current_exposure</strong> (<em>Exposure</em>) – The actual exposure, based on which the AlphaModel should return its Signal. Can be different from previous
Signal suggestions, but it should correspond with the current trading position</p></li>
<li><p><strong>current_time</strong> (<em>Optional</em><em>[</em><em>datetime</em><em>]</em>) – current time, which is afterwards recorded inside each of the Signals. The parameter is optional and if not
provided, defaults to the current user time.</p></li>
<li><p><strong>frequency</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="qf_lib.common.enums.frequency.Frequency.html#qf_lib.common.enums.frequency.Frequency" title="qf_lib.common.enums.frequency.Frequency"><em>Frequency</em></a><em>]</em>) – frequency of trading. Optional parameter, with the default value being equal to daily frequency. Used to
obtain the last available price.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Signal being the suggestion for the next trading period</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="qf_lib.backtesting.signals.signal.Signal.html#qf_lib.backtesting.signals.signal.Signal" title="qf_lib.backtesting.signals.signal.Signal">Signal</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="qf_lib.backtesting.contract.contract.Contract.html" class="btn btn-neutral float-right" title="Contract" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="qf_lib.backtesting.alpha_model.alpha_model.AlphaModel.html" class="btn btn-neutral float-left" title="AlphaModel" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>